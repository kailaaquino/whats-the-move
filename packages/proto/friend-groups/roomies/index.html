<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Roomies</title>

    <!-- Google Fonts:-->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Chewy&family=Fredoka:wght@400;700&family=Rubik:wght@400;500&display=swap"
      rel="stylesheet"
    />

    <!-- CSS -->
    <link rel="stylesheet" href="/styles/reset.css" />
    <link rel="stylesheet" href="/styles/tokens.css" />
    <link rel="stylesheet" href="/styles/group-page.css" />
    <link rel="stylesheet" href="/styles/page.css" />

    <script type="module">
      import { define, Auth } from "@calpoly/mustang";
      import { NavBar } from "/src/components/nav-bar.js";
      import { FriendNav } from "/src/components/friend-nav.js";
      import { PlanCard } from "/src/components/plan-card.js";
      import { AvatarCircle } from "/src/components/avatar-circle.js";
      import { PlanList } from "/src/components/plan-list.js";
      import { PageHeader } from "/src/components/page-header.ts";

      define({
        "wtm-nav": NavBar,
        "friend-nav": FriendNav,
        "plan-card": PlanCard,
        "avatar-circle": AvatarCircle,
        "plan-list": PlanList,
        "page-header": PageHeader,
        "mu-auth": Auth.Provider,
      });
      PageHeader.initializeOnce?.();
    </script>
  </head>

  <body class="page">
    <mu-auth provides="wtm:auth">
      <wtm-nav></wtm-nav>

      <div class="page-grid">
        <div class="page-header-grid">
          <page-header type="group" group-name="Roomies"></page-header>
          <friend-nav activeTab="Plans"></friend-nav>
        </div>

        <plan-list src="/data/plans.json"></plan-list>
      </div>
    </mu-auth>

    <script type="module">
      document.body.addEventListener("theme:toggle", (event) => {
        const isChecked = event.detail.checked;
        document.body.classList.toggle("light-mode", isChecked);
      });
    </script>
  </body>
</html>
