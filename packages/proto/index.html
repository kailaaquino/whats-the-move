<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>What's The Move?</title>

    <!-- Google Fonts:-->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Chewy&family=Fredoka:wght@400;700&family=Rubik:wght@400;500&display=swap"
      rel="stylesheet"
    />

    <!-- CSS -->
    <link rel="stylesheet" href="/styles/reset.css" />
    <link rel="stylesheet" href="/styles/tokens.css" />
    <link rel="stylesheet" href="/styles/page.css" />

    <script type="module">
      import { define, Auth } from "@calpoly/mustang";
      import { NavBar } from "/src/components/nav-bar.js";
      import { GroupCard } from "/src/components/group-card.ts";
      import { GroupList } from "/src/components/group-list.ts";
      import { PageHeader } from "/src/components/page-header.ts";

      define({
        "wtm-nav": NavBar,
        "group-card": GroupCard,
        "wtm-group-list": GroupList,
        "page-header": PageHeader,
        "mu-auth": Auth.Provider,
      });
      PageHeader.initializeOnce?.();
    </script>
  </head>

  <body class="page">
    <mu-auth provides="wtm:auth">
      <wtm-nav></wtm-nav>

      <div class="page-grid">
        <page-header type="home"></page-header>
        <wtm-group-list src="/data/groups.json"></wtm-group-list>
      </div>
    </mu-auth>

    <script type="module">
      document.body.addEventListener("theme:toggle", (event) => {
        const isChecked = event.detail.checked;
        document.body.classList.toggle("light-mode", isChecked);
      });
    </script>
  </body>
</html>
